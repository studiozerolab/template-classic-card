---
import { about } from "../config/site";
import { Image } from "astro:assets";
const importedAboutImages = import.meta.glob("../assets/*.{jpg,jpeg,png,webp,svg}", {
  eager: true,
  import: "default",
});
const aboutImage = about.image?.src
  ? importedAboutImages[about.image.src] ?? about.image.src
  : null;
---

<div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
  <div
    class="
      grid gap-10 md:grid-cols-[minmax(0,1.1fr)_minmax(0,0.9fr)]
      items-center
      rounded-2xl
      bg-[color:var(--color-surface)]
      text-[color:var(--color-text)]
      border border-[color:var(--color-strong)]
      p-8 md:p-10
      shadow-sm
    "
  >
    <!-- TEXT COLUMN -->
    <div class="flex flex-col gap-4">
      <h2 class="text-2xl sm:text-3xl font-bold">
        {about.heading}
      </h2>

      {about.body && (
        <div class="space-y-3 text-[color:var(--color-text-muted)] text-base leading-relaxed">
          {about.body.map((paragraph) => (
            <p>{paragraph}</p>
          ))}
        </div>
      )}

      {about.trustPoints && about.trustPoints.length > 0 && (
        <ul class="mt-3 space-y-2 text-sm">
          {about.trustPoints.map((point) => (
            <li class="flex items-start gap-2">
              <span
                class="
                  mt-0.5
                  inline-flex h-4 w-4 flex-shrink-0
                  items-center justify-center
                  rounded-full
                  bg-[color:var(--color-accent-tint)]
                  text-[color:var(--color-accent)]
                  text-[10px] font-bold
                "
                aria-hidden="true"
              >
                âœ“
              </span>
              <span class="text-[color:var(--color-text-muted)]">
                {point}
              </span>
            </li>
          ))}
        </ul>
      )}
    </div>

    <!-- IMAGE COLUMN -->
    {about.image?.src && (
      <div class="relative">
        <div
          class="
            absolute inset-0
            translate-x-3 translate-y-3
            rounded-2xl
            bg-[color:var(--color-primary-tint)]
            opacity-60
          "
          aria-hidden="true"
        ></div>

        <div class="relative rounded-2xl overflow-hidden shadow-md">
          <Image
              src={aboutImage}
              alt={about.image.alt}
              widths={[640, 960, 1280]}
              sizes="(min-width: 1024px) 45vw, 100vw"
              loading="lazy"
              decoding="async"
              class="w-full h-full object-cover"
            />
        </div>
      </div>
    )}
  </div>
</div>
